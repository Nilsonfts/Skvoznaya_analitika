# üìã –†–µ–∑—é–º–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å—Ç–æ–ª–±—Ü–æ–≤

**–õ–∏—Å—Ç "–ó–∞—è–≤–∫–∏ –°–∞–π—Ç":**
- ‚úÖ `phone`: `'–û—á–∏—â–µ–Ω–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω'` (–±–µ–∑ –ø–µ—Ä–µ–Ω–æ—Å–∞ —Å—Ç—Ä–æ–∫–∏)
- ‚úÖ `ga_client_id`: `'ga_client_id'` 
- ‚úÖ `ym_client_id`: `'ym_client_id'`
- ‚úÖ `form_name`: `'Form name'`
- ‚úÖ `button_text`: `'button_text'`

**–õ–∏—Å—Ç "–ó–∞—è–≤–∫–∏ –°–æ—Ü —Å–µ—Ç–∏":**
- ‚úÖ `utm_content`: `'UTM Content (–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)'`
- ‚úÖ `utm_term`: `'UTM Term (–ö–ª—é—á/–î–∞—Ç–∞)'`
- ‚úÖ `ga_client_id`: `'ga_id'` (–º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º)
- ‚úÖ `ym_client_id`: `'ym_id'` (–º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º)

**–õ–∏—Å—Ç "Guests RP":**
- ‚úÖ `first_visit`: `'–ü–µ—Ä–≤—ã–π –≤–∏–∑–∏—Ç'`
- ‚úÖ `last_visit`: `'–ü–æ—Å–ª–µ–¥–Ω–∏–π –≤–∏–∑–∏—Ç'`

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –¥–∞—à–±–æ—Ä–¥–æ–≤

**–° —ç–º–æ–¥–∑–∏ —Å–æ–≥–ª–∞—Å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:**
- üéØ –ì–ª–∞–≤–Ω—ã–π –¥–∞—à–±–æ—Ä–¥
- üìä –ê–Ω–∞–ª–∏–∑ –∫–∞–Ω–∞–ª–æ–≤  
- üë• –°–µ–≥–º–µ–Ω—Ç—ã –∫–ª–∏–µ–Ω—Ç–æ–≤
- üìä –ê–Ω–∞–ª–∏–∑ –ú–µ—Ç—Ä–∏–∫–∏
- üë§ –ú–µ–Ω–µ–¥–∂–µ—Ä—ã (—Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∫–æ–ª–æ–Ω–∫–∏ "–ú–µ–Ω–µ–¥–∂–µ—Ä")

### 3. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞"

**–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–æ–ª—è:**
- `ID` (–≤–º–µ—Å—Ç–æ LEAD_ID)
- `–í—ã—Ä—É—á–∫–∞ ‚ÇΩ` (—Å —Å–∏–º–≤–æ–ª–æ–º —Ä—É–±–ª—è)
- `–°—Ä–µ–¥–Ω–∏–π —á–µ–∫ ‚ÇΩ` (—Å —Å–∏–º–≤–æ–ª–æ–º —Ä—É–±–ª—è)
- `LTV ‚ÇΩ` (—Å —Å–∏–º–≤–æ–ª–æ–º —Ä—É–±–ª—è)
- `YM –í—Ä–µ–º—è (—Å–µ–∫)` (—É—Ç–æ—á–Ω–µ–Ω–∏–µ –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è)

### 4. –£–ª—É—á—à–µ–Ω–∏—è –≤ —Ä–∞—Å—á–µ—Ç–∞—Ö

**LTV —Ä–∞—Å—á–µ—Ç—ã:**
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ –≤–∏–∑–∏—Ç–∞–º (–¥–æ 10 –≤–∏–∑–∏—Ç–æ–≤)
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ 6 –≤–∏–∑–∏—Ç–æ–≤ –≤ –≥–æ–¥ –¥–ª—è LTV
- ‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–∞–Ω–Ω—ã—Ö –ø–æ —Å—É–º–º–∞–º –≤–∏–∑–∏—Ç–æ–≤ –Ω–∞–¥ –æ–±—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏

**–°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤:**
- ‚úÖ –ê–Ω–∞–ª–∏–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 3 –≤–∏–∑–∏—Ç–æ–≤ –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–π —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏
- ‚úÖ –£—á–µ—Ç –¥–∏–Ω–∞–º–∏–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ä–µ–¥–Ω–µ–≥–æ —á–µ–∫–∞
- ‚úÖ Fallback –Ω–∞ —Å—Ç–∞—Ä—É—é –ª–æ–≥–∏–∫—É –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏

### 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–°–æ–∑–¥–∞–Ω test_config.py –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π –∫–æ–ª–æ–Ω–æ–∫
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–°–æ–∑–¥–∞–Ω create_test_data.py –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ª–∏—Å—Ç–æ–≤
- ‚úÖ –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞
- ‚úÖ –í—Å–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã  
- ‚úÖ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –≤ config.py —É–¥–∞–ª–µ–Ω—ã
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
- ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- ‚úÖ **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞**
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞**

### –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

**–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è `.env`:**
- üìã –ü–æ–¥—Ä–æ–±–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- üîß –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Google Analytics –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- üíæ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å PostgreSQL
- üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è AmoCRM
- ‚è∞ –ì–∏–±–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –æ—Ç—á—ë—Ç–æ–≤
- üêõ –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

**–ù–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏:**
```bash
python validate_config.py
```
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- üîç –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤ —Ç–æ–∫–µ–Ω–æ–≤ –∏ ID
- üìù –ü—Ä–æ–≤–µ—Ä–∫–∞ JSON –∫–ª—é—á–µ–π Google API
- üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é –æ—à–∏–±–æ–∫

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞

```bash
# 1. –ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
python validate_config.py

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö
python test_config.py

# 3. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
python create_test_data.py

# 4. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
python bot.py
```

### –ò–ª–∏ —á–µ—Ä–µ–∑ Docker

```bash
docker-compose up -d
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ù–∞–∑–≤–∞–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫** –¥–æ–ª–∂–Ω—ã —Ç–æ—á–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ `config.py`
2. **–ü–æ–ª—è ga_id –∏ ym_id** –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö –º–æ–≥—É—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º–∏ - –±–æ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–µ
3. **–í–∏–∑–∏—Ç—ã** - –±–æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–æ 10 –≤–∏–∑–∏—Ç–æ–≤ —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π —Å—É–º–º
4. **LTV –æ–≥—Ä–∞–Ω–∏—á–µ–Ω** –¥–æ 6 –≤–∏–∑–∏—Ç–æ–≤ –≤ –≥–æ–¥ —Å–æ–≥–ª–∞—Å–Ω–æ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ
5. **–õ–∏—Å—Ç "üë§ –ú–µ–Ω–µ–¥–∂–µ—Ä—ã"** —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∫–æ–ª–æ–Ω–∫–∏ "–ú–µ–Ω–µ–¥–∂–µ—Ä"

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Google Sheets** - –∫–æ–º–∞–Ω–¥–∞ `/status`
2. **–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –ª–∏–¥–æ–≤** - –∫–æ–º–∞–Ω–¥–∞ `/merge_leads`  
3. **–°–æ–∑–¥–∞–Ω–∏–µ –¥–∞—à–±–æ—Ä–¥–∞** - –∫–æ–º–∞–Ω–¥–∞ `/dashboard`
4. **–ê–Ω–∞–ª–∏–∑ –∫–∞–Ω–∞–ª–æ–≤** - –∫–æ–º–∞–Ω–¥–∞ `/channels`
5. **–°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—é** - –∫–æ–º–∞–Ω–¥–∞ `/segments`

–í—Å–µ –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ! üéâ
